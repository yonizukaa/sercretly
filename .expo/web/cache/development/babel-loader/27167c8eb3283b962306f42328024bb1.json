{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { useEffect, useState } from \"react\";\nimport * as Contacts from \"expo-contacts\";\nexport default function useContacts() {\n  var _useState = useState([]),\n      contacts = _useState.contacts,\n      setContacts = _useState.setContacts;\n\n  useEffect(function () {\n    (function _callee() {\n      var _await$Contacts$reque, status, _await$Contacts$getCo, data;\n\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(Contacts.requestPermissionsAsync());\n\n            case 2:\n              _await$Contacts$reque = _context.sent;\n              status = _await$Contacts$reque.status;\n\n              if (!(status === \"granted\")) {\n                _context.next = 10;\n                break;\n              }\n\n              _context.next = 7;\n              return _regeneratorRuntime.awrap(Contacts.getContactByIdAsync({\n                fields: [Contacts.Fields.Emails]\n              }));\n\n            case 7:\n              _await$Contacts$getCo = _context.sent;\n              data = _await$Contacts$getCo.data;\n\n              if (data.length > 0) {\n                setContacts(data.filter(function (c) {\n                  return c.firstName && c.emails && c.emails[0] && c.emails[0].email;\n                }).map(mapContactToUser));\n              }\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    })();\n  }, []);\n  return contacts;\n}\n\nfunction mapContactToUser() {\n  return {\n    contactName: contact.firstName && contact.lastName ? contact.firstName + \"  \" + contact.lastName : contact.firstName,\n    email: contact.emails[0].email\n  };\n}","map":{"version":3,"names":["useEffect","useState","Contacts","useContacts","contacts","setContacts","requestPermissionsAsync","status","getContactByIdAsync","fields","Fields","Emails","data","length","filter","c","firstName","emails","email","map","mapContactToUser","contactName","contact","lastName"],"sources":["C:/Users/johan/OneDrive/Bureau/Appmobile/Secretly/wp-clone-starter/hooks/useHooks.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport * as Contacts from \"expo-contacts\";\r\n\r\nexport default function useContacts() {\r\n  const { contacts, setContacts } = useState([]);\r\n  useEffect(() => {\r\n    (async () => {\r\n      const { status } = await Contacts.requestPermissionsAsync();\r\n      if (status === \"granted\") {\r\n        const { data } = await Contacts.getContactByIdAsync({\r\n          fields: [Contacts.Fields.Emails],\r\n        });\r\n        if (data.length > 0) {\r\n          setContacts(\r\n            data\r\n              .filter(\r\n                (c) =>\r\n                  c.firstName && c.emails && c.emails[0] && c.emails[0].email\r\n              )\r\n              .map(mapContactToUser)\r\n          );\r\n        }\r\n      }\r\n    })();\r\n  }, []);\r\n  return contacts;\r\n}\r\nfunction mapContactToUser() {\r\n  return {\r\n    contactName:\r\n      contact.firstName && contact.lastName\r\n        ? `${contact.firstName}  ${contact.lastName}`\r\n        : contact.firstName,\r\n    email: contact.emails[0].email,\r\n  };\r\n}\r\n"],"mappings":";AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAO,KAAKC,QAAZ,MAA0B,eAA1B;AAEA,eAAe,SAASC,WAAT,GAAuB;EACpC,gBAAkCF,QAAQ,CAAC,EAAD,CAA1C;EAAA,IAAQG,QAAR,aAAQA,QAAR;EAAA,IAAkBC,WAAlB,aAAkBA,WAAlB;;EACAL,SAAS,CAAC,YAAM;IACd,CAAC;MAAA;;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA,iCAC0BE,QAAQ,CAACI,uBAAT,EAD1B;;YAAA;cAAA;cACSC,MADT,yBACSA,MADT;;cAAA,MAEKA,MAAM,KAAK,SAFhB;gBAAA;gBAAA;cAAA;;cAAA;cAAA,iCAG0BL,QAAQ,CAACM,mBAAT,CAA6B;gBAClDC,MAAM,EAAE,CAACP,QAAQ,CAACQ,MAAT,CAAgBC,MAAjB;cAD0C,CAA7B,CAH1B;;YAAA;cAAA;cAGWC,IAHX,yBAGWA,IAHX;;cAMG,IAAIA,IAAI,CAACC,MAAL,GAAc,CAAlB,EAAqB;gBACnBR,WAAW,CACTO,IAAI,CACDE,MADH,CAEI,UAACC,CAAD;kBAAA,OACEA,CAAC,CAACC,SAAF,IAAeD,CAAC,CAACE,MAAjB,IAA2BF,CAAC,CAACE,MAAF,CAAS,CAAT,CAA3B,IAA0CF,CAAC,CAACE,MAAF,CAAS,CAAT,EAAYC,KADxD;gBAAA,CAFJ,EAKGC,GALH,CAKOC,gBALP,CADS,CAAX;cAQD;;YAfJ;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CAAD;EAkBD,CAnBQ,EAmBN,EAnBM,CAAT;EAoBA,OAAOhB,QAAP;AACD;;AACD,SAASgB,gBAAT,GAA4B;EAC1B,OAAO;IACLC,WAAW,EACTC,OAAO,CAACN,SAAR,IAAqBM,OAAO,CAACC,QAA7B,GACOD,OAAO,CAACN,SADf,UAC6BM,OAAO,CAACC,QADrC,GAEID,OAAO,CAACN,SAJT;IAKLE,KAAK,EAAEI,OAAO,CAACL,MAAR,CAAe,CAAf,EAAkBC;EALpB,CAAP;AAOD"},"metadata":{},"sourceType":"module"}