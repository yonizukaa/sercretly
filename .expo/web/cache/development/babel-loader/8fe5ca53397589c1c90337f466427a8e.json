{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { useEffect, useState } from \"react\";\nimport * as Contacts from \"expo-contacts\";\nexport default function useContacts() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      contacts = _useState2[0],\n      setContacts = _useState2[1];\n\n  useEffect(function () {\n    (function _callee() {\n      var _await$Contacts$reque, status, _await$Contacts$getCo, data;\n\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(Contacts.requestPermissionsAsync());\n\n            case 2:\n              _await$Contacts$reque = _context.sent;\n              status = _await$Contacts$reque.status;\n\n              if (!(status === \"granted\")) {\n                _context.next = 10;\n                break;\n              }\n\n              _context.next = 7;\n              return _regeneratorRuntime.awrap(Contacts.getContactsAsync({\n                fields: [Contacts.Fields.Emails]\n              }));\n\n            case 7:\n              _await$Contacts$getCo = _context.sent;\n              data = _await$Contacts$getCo.data;\n\n              if (data.length > 0) {\n                setContacts(data.filter(function (c) {\n                  return c.firstName && c.emails && c.emails[0] && c.emails[0].email;\n                }).map(mapContactToUser));\n              }\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    })();\n  }, []);\n  return contacts;\n}\n\nfunction mapContactToUser(contact) {\n  return {\n    contactName: contact.firstName && contact.lastName ? contact.firstName + \" \" + contact.lastName : contact.firstName,\n    email: contact.emails[0].email\n  };\n}","map":{"version":3,"names":["useEffect","useState","Contacts","useContacts","contacts","setContacts","requestPermissionsAsync","status","getContactsAsync","fields","Fields","Emails","data","length","filter","c","firstName","emails","email","map","mapContactToUser","contact","contactName","lastName"],"sources":["C:/Users/johan/OneDrive/Bureau/Appmobile/Secretly/secretly/hooks/useHooks.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport * as Contacts from \"expo-contacts\";\r\n\r\nexport default function useContacts() {\r\n  const [contacts, setContacts] = useState([]);\r\n  useEffect(() => {\r\n    (async () => {\r\n      const { status } = await Contacts.requestPermissionsAsync();\r\n      if (status === \"granted\") {\r\n        const { data } = await Contacts.getContactsAsync({\r\n          fields: [Contacts.Fields.Emails],\r\n        });\r\n        if (data.length > 0) {\r\n          setContacts(\r\n            data\r\n              .filter(\r\n                (c) =>\r\n                  c.firstName && c.emails && c.emails[0] && c.emails[0].email\r\n              )\r\n              .map(mapContactToUser)\r\n          );\r\n        }\r\n      }\r\n    })();\r\n  }, []);\r\n  return contacts;\r\n}\r\nfunction mapContactToUser(contact) {\r\n  return {\r\n    contactName:\r\n      contact.firstName && contact.lastName\r\n        ? `${contact.firstName} ${contact.lastName}`\r\n        : contact.firstName,\r\n    email: contact.emails[0].email,\r\n  };\r\n}\r\n"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAO,KAAKC,QAAZ,MAA0B,eAA1B;AAEA,eAAe,SAASC,WAAT,GAAuB;EACpC,gBAAgCF,QAAQ,CAAC,EAAD,CAAxC;EAAA;EAAA,IAAOG,QAAP;EAAA,IAAiBC,WAAjB;;EACAL,SAAS,CAAC,YAAM;IACd,CAAC;MAAA;;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA,iCAC0BE,QAAQ,CAACI,uBAAT,EAD1B;;YAAA;cAAA;cACSC,MADT,yBACSA,MADT;;cAAA,MAEKA,MAAM,KAAK,SAFhB;gBAAA;gBAAA;cAAA;;cAAA;cAAA,iCAG0BL,QAAQ,CAACM,gBAAT,CAA0B;gBAC/CC,MAAM,EAAE,CAACP,QAAQ,CAACQ,MAAT,CAAgBC,MAAjB;cADuC,CAA1B,CAH1B;;YAAA;cAAA;cAGWC,IAHX,yBAGWA,IAHX;;cAMG,IAAIA,IAAI,CAACC,MAAL,GAAc,CAAlB,EAAqB;gBACnBR,WAAW,CACTO,IAAI,CACDE,MADH,CAEI,UAACC,CAAD;kBAAA,OACEA,CAAC,CAACC,SAAF,IAAeD,CAAC,CAACE,MAAjB,IAA2BF,CAAC,CAACE,MAAF,CAAS,CAAT,CAA3B,IAA0CF,CAAC,CAACE,MAAF,CAAS,CAAT,EAAYC,KADxD;gBAAA,CAFJ,EAKGC,GALH,CAKOC,gBALP,CADS,CAAX;cAQD;;YAfJ;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CAAD;EAkBD,CAnBQ,EAmBN,EAnBM,CAAT;EAoBA,OAAOhB,QAAP;AACD;;AACD,SAASgB,gBAAT,CAA0BC,OAA1B,EAAmC;EACjC,OAAO;IACLC,WAAW,EACTD,OAAO,CAACL,SAAR,IAAqBK,OAAO,CAACE,QAA7B,GACOF,OAAO,CAACL,SADf,SAC4BK,OAAO,CAACE,QADpC,GAEIF,OAAO,CAACL,SAJT;IAKLE,KAAK,EAAEG,OAAO,CAACJ,MAAR,CAAe,CAAf,EAAkBC;EALpB,CAAP;AAOD"},"metadata":{},"sourceType":"module"}