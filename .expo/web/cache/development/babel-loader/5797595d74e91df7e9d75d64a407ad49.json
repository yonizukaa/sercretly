{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport React, { useEffect, useState } from \"react\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport { pickImage } from \"../utils\";\nexport default function Photo() {\n  var navigation = useNavigation();\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      cancelled = _useState2[0],\n      setCancelled = _useState2[1];\n\n  useEffect(function () {\n    var unsubscribe = navigation.addListener(\"focus\", function _callee() {\n      var result;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(pickImage());\n\n            case 2:\n              result = _context.sent;\n              navigation.navigate(\"contacts\", {\n                image: result\n              });\n\n              if (result.cancelled) {\n                setCancelled(true);\n                setTimeout(function () {\n                  return navigation.navigate(\"chats\");\n                }, 100);\n              }\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    });\n    return function () {\n      return unsubscribe();\n    };\n  }, [navigation, cancelled]);\n  return React.createElement(View, null);\n}","map":{"version":3,"names":["React","useEffect","useState","useNavigation","pickImage","Photo","navigation","cancelled","setCancelled","unsubscribe","addListener","result","navigate","image","setTimeout"],"sources":["C:/Users/johan/OneDrive/Bureau/Appmobile/Secretly/wp-clone-starter/screens/Photo.js"],"sourcesContent":["import { View, Text } from \"react-native\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useNavigation } from \"@react-navigation/native\";\r\nimport { pickImage } from \"../utils\";\r\n\r\nexport default function Photo() {\r\n  const navigation = useNavigation();\r\n  const [cancelled, setCancelled] = useState(false);\r\n  useEffect(() => {\r\n    const unsubscribe = navigation.addListener(\"focus\", async () => {\r\n      const result = await pickImage();\r\n      navigation.navigate(\"contacts\", { image: result });\r\n      if (result.cancelled) {\r\n        setCancelled(true);\r\n        setTimeout(() => navigation.navigate(\"chats\"), 100);\r\n      }\r\n    });\r\n    return () => unsubscribe();\r\n  }, [navigation, cancelled]);\r\n  return <View></View>;\r\n}\r\n"],"mappings":";;;;AACA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,aAAT,QAA8B,0BAA9B;AACA,SAASC,SAAT;AAEA,eAAe,SAASC,KAAT,GAAiB;EAC9B,IAAMC,UAAU,GAAGH,aAAa,EAAhC;;EACA,gBAAkCD,QAAQ,CAAC,KAAD,CAA1C;EAAA;EAAA,IAAOK,SAAP;EAAA,IAAkBC,YAAlB;;EACAP,SAAS,CAAC,YAAM;IACd,IAAMQ,WAAW,GAAGH,UAAU,CAACI,WAAX,CAAuB,OAAvB,EAAgC;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA,iCAC7BN,SAAS,EADoB;;YAAA;cAC5CO,MAD4C;cAElDL,UAAU,CAACM,QAAX,CAAoB,UAApB,EAAgC;gBAAEC,KAAK,EAAEF;cAAT,CAAhC;;cACA,IAAIA,MAAM,CAACJ,SAAX,EAAsB;gBACpBC,YAAY,CAAC,IAAD,CAAZ;gBACAM,UAAU,CAAC;kBAAA,OAAMR,UAAU,CAACM,QAAX,CAAoB,OAApB,CAAN;gBAAA,CAAD,EAAqC,GAArC,CAAV;cACD;;YANiD;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CAAhC,CAApB;IAQA,OAAO;MAAA,OAAMH,WAAW,EAAjB;IAAA,CAAP;EACD,CAVQ,EAUN,CAACH,UAAD,EAAaC,SAAb,CAVM,CAAT;EAWA,OAAO,oBAAC,IAAD,OAAP;AACD"},"metadata":{},"sourceType":"module"}