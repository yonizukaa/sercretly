{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport React, { useState, useEffect, useContext } from \"react\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport LogBox from \"react-native-web/dist/exports/LogBox\";\nimport { useAssets } from \"expo-asset\";\nimport { onAuthStateChanged } from \"firebase/auth\";\nimport { auth } from \"./firebase\";\nimport { NavigationContainer } from \"@react-navigation/native\";\nimport { createStackNavigator } from \"@react-navigation/stack\";\nimport { createMaterialTopTabNavigator } from \"@react-navigation/material-top-tabs\";\nimport SignIn from \"./screens/SignIn\";\nimport ContextWrapper from \"./context/ContextWrapper\";\nimport Context from \"./context/Context\";\nimport Profile from \"./screens/Profile\";\nimport Chats from \"./screens/Chats\";\nimport Photo from \"./screens/Photo\";\nimport { Ionicons } from \"@expo/vector-icons\";\nimport Contacts from \"./screens/Contacts\";\nimport Chat from \"./screens/Chat\";\nimport ChatHeader from \"./components/ChatHeader\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nLogBox.ignoreLogs([\"Setting a timer\", \"AsyncStorage has been extracted from react-native core and will be removed in a future release.\"]);\nvar Stack = createStackNavigator();\nvar Tab = createMaterialTopTabNavigator();\n\nfunction App() {\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      currUser = _useState2[0],\n      setCurrUser = _useState2[1];\n\n  var _useState3 = useState(true),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n\n  var _useContext = useContext(Context),\n      colors = _useContext.theme.colors;\n\n  useEffect(function () {\n    var unsubscribe = onAuthStateChanged(auth, function (user) {\n      setLoading(false);\n\n      if (user) {\n        setCurrUser(user);\n      }\n    });\n    return function () {\n      return unsubscribe();\n    };\n  }, []);\n\n  if (loading) {\n    return _jsx(Text, {\n      children: \"Loading...\"\n    });\n  }\n\n  return _jsx(NavigationContainer, {\n    children: !currUser ? _jsx(Stack.Navigator, {\n      screenOptions: {\n        headerShown: false\n      },\n      children: _jsx(Stack.Screen, {\n        name: \"signIn\",\n        component: SignIn\n      })\n    }) : _jsxs(Stack.Navigator, {\n      screenOptions: {\n        headerStyle: {\n          backgroundColor: colors.foreground,\n          shadowOpacity: 0,\n          elevation: 0\n        },\n        headerTintColor: colors.white\n      },\n      children: [!currUser.displayName && _jsx(Stack.Screen, {\n        name: \"profile\",\n        component: Profile,\n        options: {\n          headerShown: false\n        }\n      }), _jsx(Stack.Screen, {\n        name: \"home\",\n        options: {\n          title: \"Secretly\"\n        },\n        component: Home\n      }), _jsx(Stack.Screen, {\n        name: \"contacts\",\n        options: {\n          title: \"Select Contacts\"\n        },\n        component: Contacts\n      }), _jsx(Stack.Screen, {\n        name: \"chat\",\n        component: Chat,\n        options: {\n          headerTitle: function headerTitle(props) {\n            return _jsx(ChatHeader, _objectSpread({}, props));\n          }\n        }\n      })]\n    })\n  });\n}\n\nfunction Home() {\n  var _useContext2 = useContext(Context),\n      colors = _useContext2.theme.colors;\n\n  return _jsxs(Tab.Navigator, {\n    screenOptions: function screenOptions(_ref) {\n      var route = _ref.route;\n      return {\n        tabBarLabel: function tabBarLabel() {\n          if (route.name === \"photo\") {\n            return _jsx(Ionicons, {\n              name: \"camera\",\n              size: 20,\n              color: colors.white\n            });\n          } else {\n            return _jsx(Text, {\n              style: {\n                color: colors.white\n              },\n              children: route.name.toLocaleUpperCase()\n            });\n          }\n        },\n        tabBarShowIcon: true,\n        tabBarLabelStyle: {\n          color: colors.white\n        },\n        tabBarIndicatorStyle: {\n          backgroundColor: colors.white\n        },\n        tabBarStyle: {\n          backgroundColor: colors.foreground\n        }\n      };\n    },\n    initialRouteName: \"chats\",\n    children: [_jsx(Tab.Screen, {\n      name: \"photo\",\n      component: Photo\n    }), _jsx(Tab.Screen, {\n      name: \"chats\",\n      component: Chats\n    })]\n  });\n}\n\nfunction Main() {\n  var _useAssets = useAssets(require(\"./assets/icon-square.png\"), require(\"./assets/chatbg.png\"), require(\"./assets/user-icon.png\"), require(\"./assets/welcome-img.png\")),\n      _useAssets2 = _slicedToArray(_useAssets, 1),\n      assets = _useAssets2[0];\n\n  if (!assets) {\n    return _jsx(Text, {\n      style: {\n        alignContent: \"center\",\n        justifyContent: \"center\",\n        flex: 1\n      },\n      children: \"Loading ..\"\n    });\n  }\n\n  return _jsx(ContextWrapper, {\n    children: _jsx(App, {})\n  });\n}\n\nexport default Main;","map":{"version":3,"names":["React","useState","useEffect","useContext","useAssets","onAuthStateChanged","auth","NavigationContainer","createStackNavigator","createMaterialTopTabNavigator","SignIn","ContextWrapper","Context","Profile","Chats","Photo","Ionicons","Contacts","Chat","ChatHeader","LogBox","ignoreLogs","Stack","Tab","App","currUser","setCurrUser","loading","setLoading","colors","theme","unsubscribe","user","headerShown","headerStyle","backgroundColor","foreground","shadowOpacity","elevation","headerTintColor","white","displayName","title","Home","headerTitle","props","route","tabBarLabel","name","color","toLocaleUpperCase","tabBarShowIcon","tabBarLabelStyle","tabBarIndicatorStyle","tabBarStyle","Main","require","assets","alignContent","justifyContent","flex"],"sources":["C:/Users/johan/OneDrive/Bureau/Appmobile/Secretly/secretly/App.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\nimport { Text, View, LogBox } from \"react-native\";\nimport { useAssets } from \"expo-asset\";\nimport { onAuthStateChanged } from \"firebase/auth\";\nimport { auth } from \"./firebase\";\nimport { NavigationContainer } from \"@react-navigation/native\";\nimport { createStackNavigator } from \"@react-navigation/stack\";\nimport { createMaterialTopTabNavigator } from \"@react-navigation/material-top-tabs\";\nimport SignIn from \"./screens/SignIn\";\nimport ContextWrapper from \"./context/ContextWrapper\";\nimport Context from \"./context/Context\";\nimport Profile from \"./screens/Profile\";\nimport Chats from \"./screens/Chats\";\nimport Photo from \"./screens/Photo\";\nimport { Ionicons } from \"@expo/vector-icons\";\nimport Contacts from \"./screens/Contacts\";\nimport Chat from \"./screens/Chat\";\nimport ChatHeader from \"./components/ChatHeader\";\nLogBox.ignoreLogs([\n  \"Setting a timer\",\n  \"AsyncStorage has been extracted from react-native core and will be removed in a future release.\",\n]);\n\nconst Stack = createStackNavigator();\nconst Tab = createMaterialTopTabNavigator();\n\nfunction App() {\n  const [currUser, setCurrUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const {\n    theme: { colors },\n  } = useContext(Context);\n\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, (user) => {\n      setLoading(false);\n      if (user) {\n        setCurrUser(user);\n      }\n    });\n    return () => unsubscribe();\n  }, []);\n\n  if (loading) {\n    return <Text>Loading...</Text>;\n  }\n\n  return (\n    <NavigationContainer>\n      {!currUser ? (\n        <Stack.Navigator screenOptions={{ headerShown: false }}>\n          <Stack.Screen name=\"signIn\" component={SignIn} />\n        </Stack.Navigator>\n      ) : (\n        <Stack.Navigator\n          screenOptions={{\n            headerStyle: {\n              backgroundColor: colors.foreground,\n              shadowOpacity: 0,\n              elevation: 0,\n            },\n            headerTintColor: colors.white,\n          }}\n        >\n          {!currUser.displayName && (\n            <Stack.Screen\n              name=\"profile\"\n              component={Profile}\n              options={{ headerShown: false }}\n            />\n          )}\n          <Stack.Screen\n            name=\"home\"\n            options={{ title: \"Secretly\" }}\n            component={Home}\n          />\n          <Stack.Screen\n            name=\"contacts\"\n            options={{ title: \"Select Contacts\" }}\n            component={Contacts}\n          />\n          <Stack.Screen\n            name=\"chat\"\n            component={Chat}\n            options={{ headerTitle: (props) => <ChatHeader {...props} /> }}\n          />\n        </Stack.Navigator>\n      )}\n    </NavigationContainer>\n  );\n}\nfunction Home() {\n  const {\n    theme: { colors },\n  } = useContext(Context);\n  return (\n    <Tab.Navigator\n      screenOptions={({ route }) => {\n        return {\n          tabBarLabel: () => {\n            if (route.name === \"photo\") {\n              return <Ionicons name=\"camera\" size={20} color={colors.white} />;\n            } else {\n              return (\n                <Text style={{ color: colors.white }}>\n                  {route.name.toLocaleUpperCase()}\n                </Text>\n              );\n            }\n          },\n          tabBarShowIcon: true,\n          tabBarLabelStyle: {\n            color: colors.white,\n          },\n          tabBarIndicatorStyle: {\n            backgroundColor: colors.white,\n          },\n          tabBarStyle: {\n            backgroundColor: colors.foreground,\n          },\n        };\n      }}\n      initialRouteName=\"chats\"\n    >\n      <Tab.Screen name=\"photo\" component={Photo} />\n      <Tab.Screen name=\"chats\" component={Chats} />\n    </Tab.Navigator>\n  );\n}\n\nfunction Main() {\n  const [assets] = useAssets(\n    require(\"./assets/icon-square.png\"),\n    require(\"./assets/chatbg.png\"),\n    require(\"./assets/user-icon.png\"),\n    require(\"./assets/welcome-img.png\")\n  );\n  if (!assets) {\n    return (\n      <Text\n        style={{ alignContent: \"center\", justifyContent: \"center\", flex: 1 }}\n      >\n        Loading ..\n      </Text>\n    );\n  }\n  return (\n    <ContextWrapper>\n      <App />\n    </ContextWrapper>\n  );\n}\n\nexport default Main;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}